import{E as r,S as W,H as Z,V as d,D as Q,a as $,T as m,b as x,M as O}from"./babylon.inspector.bundle.max-2aYK1OyM.js";import"https://cdn.img.ly/packages/imgly/cesdk-js/1.18.1/cesdk.umd.js";const h=document.querySelector(".maleModelBtn"),_=document.querySelector(".femaleModelBtn");h.addEventListener("mouseover",t=>{h.style.backgroundColor="white",_.style.backgroundColor="transparent"});h.addEventListener("mouseout",t=>{h.style.backgroundColor="transparent",_.style.backgroundColor="white"});const J=document.getElementById("renderCanvas"),v=new r(J),T=document.querySelector(".preview");document.querySelector(".exportBtn");const ee="https://rfkdwkpnnalilegqqggx.supabase.co/storage/v1/object/public/troisiemeoeil-bucket/textures/color_map.jpg?t=2023-12-13T21%3A45%3A00.971Z",U="https://rfkdwkpnnalilegqqggx.supabase.co/storage/v1/object/public/troisiemeoeil-bucket/textures/render_map.jpg",te="https://rfkdwkpnnalilegqqggx.supabase.co/storage/v1/object/public/troisiemeoeil-bucket/textures/skin_0001_color_2k.jpg",ne=document.querySelector(".darkSkin"),ae=document.querySelector(".whiteSkin"),oe=function(){const t=new W(v);t.createDefaultCamera(!0,!0,!0);const j=t.activeCamera;j.wheelDeltaPercentage=.01;var z=new Z("HemiLight",new d(0,5,0),t);z.intensity=.5;var A=new Q("directional",new d(-.5,-2,.8),t);A.intensity=.3,A.range=100;const H=document.querySelector(".startAnimationBtn"),F=document.querySelector(".stopAnimationBtn"),V="https://rfkdwkpnnalilegqqggx.supabase.co/storage/v1/object/public/troisiemeoeil-bucket/models/g8Walking.glb",Y=-.3,G=.35;return $.ImportMesh("",V,"",t,function(X){var f=X[0];f.position.y=Y,f.scaling.scaleInPlace(G);const o=1,E=.2,D=.2,i=new m(ee,t),q=new x("defaultMat",t);q.diffuseTexture=i,q.roughness=0;const s=new x("test",t),l=new m(U,t,void 0,!1);s.diffuseTexture=l,s.roughness=0,l.uScale=i.uScale=o/E,l.vScale=i.vScale=o/D,l.uOffset=i.uOffset=-0,l.vOffset=i.vOffset=-0,f.getChildMeshes().forEach((e,n)=>{e.material=s}),ne.addEventListener("click",()=>{console.log("hello");const e=new m(te,t,void 0,!1);s.diffuseTexture=e,e.uScale=o,e.vScale=o,e.uOffset=-0,e.vOffset=-0}),ae.addEventListener("click",()=>{console.log("hello");const e=new m(U,t,void 0,!1);s.diffuseTexture=e,e.uScale=o/E*2,e.vScale=o/D*2,e.uOffset=-0,e.vOffset=-0}),t.stopAllAnimations(),f.rotation=new d(0,0,0);const w=t.getAnimationGroupByName("Armature|mixamo.com|Layer0");H.addEventListener("click",()=>{w.start(!0,1,w.from,w.to,!1)}),F.addEventListener("click",()=>{t.stopAllAnimations()});const I=document.getElementById("angle"),P=document.getElementById("width"),k=document.querySelector("input");var b="./cat.png";let g;const N={license:"vERESgSXbYj5Rs-FF4DzkMvhdQLh0Mxe6AD8V-doP6wqe_gmYmx_oUKqIlMkwpMu",userId:"guides-user",ui:{elements:{view:"default",navigation:{show:!0,position:"top",action:{close:!1,back:!1,load:!1,save:!1,export:{show:!0,format:["image/png"]},download:!0}},panels:{inspector:{show:!0,position:"left"},assetLibrary:{show:!0,position:"left"},settings:{show:!0}},dock:{iconSize:"large",hideLabels:!1,groups:[{id:"ly.img.template",entryIds:["ly.img.template"]},{id:"ly.img.defaultGroup",showOverview:!0}],defaultGroupId:"ly.img.defaultGroup"},libraries:{insert:{entries:e=>e,floating:!0,autoClose:!1},replace:{entries:e=>e,floating:!0,autoClose:!1}},blocks:{opacity:!1,transform:!1,"//ly.img.ubq/image":{adjustments:!0,filters:!0,effects:!0,blur:!0,crop:!0},"//ly.img.ubq/page":{manage:!0,format:!0,maxDuration:30*60}}},pageFormats:{"din-a6":{default:!0,width:148,height:105,unit:"Millimeter",fixedOrientation:!1},"twitter-profile":{width:400,height:400,unit:"Pixel"},"american-letter":{width:8.5,height:11,unit:"Inch"}}},callbacks:{onUpload:"local",onExport:(e,n)=>{let a=URL.createObjectURL(e[0]);return T.src=a,b=k.files[0],c(),g=c(),Promise.resolve()},onUpload:(e,n)=>{console.log(e);let a=URL.createObjectURL(e);const M={id:a,meta:{uri:a,thumbUri:a}};return Promise.resolve(M)}}};CreativeEditorSDK.create("#cesdk_container",N).then(async e=>{e.addDefaultAssetSources(),e.addDemoAssetSources({sceneMode:"Design"}),await e.createDesignScene()}),k.addEventListener("change",function(e){const n=e.target.files[0];if(n){const a=new FileReader;a.onload=function(M){let K=URL.createObjectURL(k.files[0]);T.src=M.target.result,b=K,c(),g=c()},a.readAsDataURL(n)}}),r.ALPHA_COMBINE,r.ALPHA_ADD,r.ALPHA_SUBTRACT,r.ALPHA_MULTIPLY,r.ALPHA_MAXIMIZED;function c(){const e=new x("mat",t),n=new m(`${b}`,t);return e.diffuseTexture=n,e.diffuseTexture.hasAlpha=!0,e.zOffset=-2,e}c(),t.getMeshByName("FinalBaseMesh");var L=null;let u=.03,B=0,y=new d(u,u,.05),S=0;P.addEventListener("change",function(){u=P.value/1,y=new d(u,u+.01,.03)}),I.addEventListener("change",function(){B=I.value/10,S=B});function C(){L&&L.dispose();var e=t.pick(t.pointerX,t.pointerY);if(e.hit){var n=O.CreateDecal("decal",e.pickedMesh,{position:e.pickedPoint,normal:t.activeCamera.getForwardRay().direction.negateInPlace().normalize(),angle:S,size:y});n.material=g,L=n}}function R(){const e=t.pick(t.pointerX,t.pointerY);if(e.pickedMesh){var n=O.CreateDecal("decal",e.pickedMesh,{position:e.pickedPoint,normal:t.activeCamera.getForwardRay().direction.negateInPlace().normalize(),size:y,angle:S});n.material=g}}var p=v.getRenderingCanvas();p.addEventListener("mousemove",C,!1),p.addEventListener("dblclick",R,!1),p.addEventListener("touchstart",R,!1),t.onDispose=function(){p.removeEventListener("mousemove",C)}}),t},re=oe();v.runRenderLoop(function(){re.render()});window.addEventListener("resize",function(){v.resize()});
